<?php
 namespace Pmpr\Package\Jalali\Area; use Pmpr\Common\Foundation\Decorator\DecoratorI18N; use Pmpr\Common\Foundation\Decorator\DecoratorUser; use Pmpr\Common\Foundation\Manipulate\ManipulateSetting; use Pmpr\Common\Foundation\Manipulate\Taxonomy\ManipulateTerm; use Pmpr\Package\Jalali\Container; use Pmpr\Package\Jalali\Converter; use Pmpr\Package\Jalali\Setting; use Pmpr\Package\Jalali\Translator; use WP_Comment; use WP_Locale; class Common extends Container { protected ?string $locale = null; protected ?Converter $converter = null; protected ?Translator $translator = null; public function __construct() { goto eota_; eota_: $this->converter = Converter::getInstance(); goto eZwB3; eZwB3: $this->translator = Translator::getInstance(); goto M6Upv; M6Upv: parent::__construct(); goto CojyS; CojyS: } public function getConverter() : ?Converter { return $this->converter; } public function getTranslator() : ?Translator { return $this->translator; } public function addActions() { $this->addAction("\x69\x6e\151\x74", [$this, "\x69\x6e\151\164"]); parent::addActions(); } public function addFilters() { $this->addFilter("\147\x65\164\x5f\164\145\162\x6d", [$this, "\147\145\x74\124\x65\162\155"])->addFilter("\x67\145\x74\137\143\157\x6d\155\145\x6e\164", [$this, "\165\x70\x64\x61\164\x65\x43\x6f\x6d\x6d\x65\156\x74"])->addFilter("\x6c\x6f\143\x61\x6c\x65", [$this, "\163\x65\164\x4c\x6f\143\141\154\145"], 10)->addFilter("\147\145\164\x5f\x74\150\x65\137\144\141\x74\145", [$this, "\x70\145\162\x73\151\x61\156\x44\141\x74\x65"], 99, 3); parent::addFilters(); } public function init() { $this->updateNumberFormat(); } public function translateWord($cQfo7, $BHpVq = "\x66\141") { goto qbrqW; W0U_c: $BHpVq = DecoratorI18N::getLocale(); goto chzSW; qbrqW: if ($BHpVq) { goto K4PaP; } goto W0U_c; chzSW: K4PaP: goto Fqa1S; Fqa1S: return $this->getTranslator()->translate($cQfo7, $BHpVq); goto cPvlr; cPvlr: } public function translateNumber($IRfe7, $BHpVq = "\146\141", $iZfj4 = "\331\253") { goto uM3Md; uM3Md: if ($BHpVq) { goto m3cOu; } goto HyTL4; ejQ1O: m3cOu: goto ZbAHP; ZbAHP: return $this->getTranslator()->translateNumber($IRfe7, $BHpVq, $iZfj4); goto tIIq5; HyTL4: $BHpVq = DecoratorI18N::getLocale(); goto ejQ1O; tIIq5: } public function getTerm($hScO0) { goto MVcna; aUPOd: $hScO0->name = $this->translateNumbers($hScO0->name); goto H7hO5; pnEEL: if (!$this->getSettingByKey(Setting::ADMIN_CONVERT_NUMBERS)) { goto zN8Gj; } goto aUPOd; ygHdR: return $hScO0; goto vQ5NT; Mchou: $hScO0->name = $this->translateLetters($hScO0->name); goto MJ3bh; MJ3bh: ua1rD: goto W1DpO; W1DpO: ek7lj: goto ygHdR; jI1mM: if (!$this->getSettingByKey(Setting::ADMIN_CONVERT_LETTERS)) { goto ua1rD; } goto Mchou; MVcna: $hScO0 = ManipulateTerm::get($hScO0); goto bloL2; bloL2: if (!$hScO0) { goto ek7lj; } goto pnEEL; H7hO5: zN8Gj: goto jI1mM; vQ5NT: } public function postsWhere($zuj9f) { goto zx_Nl; z0FDY: $MTEvi = $wp_query->get("\x79\145\x61\162"); goto WDmoX; TOwwP: $MTEvi = substr($Jy2zq, 0, 4); goto Noqhw; aY3Lr: return $zuj9f; goto kwWrZ; wuUJe: if (is_null($wp_query)) { goto vCQ82; } goto cqimk; uPLCq: $j2LYL = substr($Jy2zq, 10, 2); goto inKeG; UIEzm: $wb1D4 = substr($Jy2zq, 8, 2); goto uPLCq; KO28p: $Biaow = $wp_query->get("\163\x65\x63\157\x6e\144"); goto mpmZF; zGVG2: $vIpa0 = $wp_query->get("\144\141\x79"); goto f9nRc; q21CG: if (!($MTEvi < 1700 && $MTEvi > 1300)) { goto EbF_w; } goto KXK9H; ypkNq: EbF_w: goto kO4Cv; KXK9H: $KGl36 = ["\x2f\131\x45\x41\x52\x5c\x28\x5b\x5c\x73\x5d\x2a{$wpdb->posts}\56\160\157\163\164\x5f\144\141\x74\145\x5b\x5c\163\x5d\52\x5c\51\x5b\134\x73\135\x2a\75\x5b\134\163\135\52" . $MTEvi . "\x2f", "\x2f\x44\101\x59\x4f\x46\x4d\x4f\x4e\x54\110\x5c\x28\133\134\163\135\x2a{$wpdb->posts}\134\x2e\160\157\163\x74\x5f\x64\141\x74\145\x5b\x5c\x73\135\x2a\x5c\51\x5b\x5c\163\x5d\x2a\75\x5b\134\x73\135\52" . $vIpa0 . "\57", "\57\x4d\x4f\x4e\124\110\x5c\x28\133\134\163\x5d\x2a{$wpdb->posts}\x2e\160\x6f\163\164\137\x64\141\x74\145\133\134\163\x5d\x2a\134\51\133\x5c\163\135\x2a\x3d\x5b\134\x73\x5d\52" . $ebLSo . "\57", "\57\x48\x4f\x55\122\134\x28\133\x5c\163\x5d\x2a{$wpdb->posts}\x2e\160\x6f\163\x74\137\x64\141\164\145\x5b\134\163\x5d\x2a\x5c\x29\133\x5c\163\x5d\x2a\75\133\134\163\x5d\x2a" . $wb1D4 . "\x2f", "\x2f\115\111\116\x55\124\x45\x5c\x28\x5b\x5c\x73\135\x2a{$wpdb->posts}\x2e\160\157\163\164\x5f\144\x61\164\x65\x5b\134\163\x5d\x2a\x5c\x29\x5b\x5c\x73\135\52\75\133\x5c\163\x5d\x2a" . $j2LYL . "\x2f", "\57\123\105\x43\117\x4e\104\x5c\50\x5b\134\x73\x5d\x2a{$wpdb->posts}\x2e\x70\157\x73\x74\137\144\141\164\x65\133\x5c\x73\135\x2a\x5c\x29\x5b\134\x73\135\52\x3d\x5b\x5c\163\x5d\52" . $Biaow . "\57"]; goto ZRFXt; cqimk: $Jy2zq = $wp_query->get("\155"); goto z0FDY; kO4Cv: vCQ82: goto aY3Lr; Noqhw: $ebLSo = substr($Jy2zq, 4, 2); goto YArBX; f9nRc: $wb1D4 = $wp_query->get("\150\157\x75\x72"); goto OKTX1; WDmoX: $ebLSo = $wp_query->get("\x6d\x6f\156\x74\x68\x6e\165\x6d"); goto zGVG2; mpmZF: if (!($Jy2zq != '' && $Jy2zq != "\60")) { goto h8429; } goto hIuvA; YArBX: $vIpa0 = substr($Jy2zq, 6, 2); goto UIEzm; zx_Nl: global $wpdb, $wp_query; goto wuUJe; hIuvA: $Jy2zq = preg_replace("\x2f\x5b\x5e\60\55\71\x5d\x2f", '', $Jy2zq); goto TOwwP; inKeG: $Biaow = substr($Jy2zq, 12, 2); goto lKKvL; ZRFXt: $zuj9f = preg_replace($KGl36, "\x31\75\x31", $zuj9f); goto ypkNq; lKKvL: h8429: goto q21CG; OKTX1: $j2LYL = $wp_query->get("\155\151\156\165\164\145"); goto KO28p; kwWrZ: } public function updateNumberFormat() { goto YHehC; DO5RU: if (!$URxKQ) { goto nKx8j; } goto hQU7k; hQU7k: $wp_locale->number_format["\164\150\157\x75\163\x61\156\x64\163\137\x73\145\x70"] = $URxKQ; goto bPxqp; V0zs1: sNiDx: goto QhDwG; YHehC: global $wp_locale; goto BYn6V; vnbL7: if (!$wWJYb) { goto WI_UM; } goto KT2er; T0VGF: $URxKQ = $this->getSettingByKey(Setting::NUMBERS_THOUSAND_SEPARATOR); goto DO5RU; JStzc: WI_UM: goto V0zs1; J4sVg: $wWJYb = $this->getSettingByKey(Setting::NUMBERS_DECIMAL_POINT); goto T0VGF; bPxqp: nKx8j: goto vnbL7; xEuur: if (!$wp_locale instanceof WP_Locale) { goto sNiDx; } goto J4sVg; BYn6V: $this->locale = DecoratorUser::getLocale(); goto xEuur; KT2er: $wp_locale->number_format["\x64\145\143\x69\x6d\141\x6c\x5f\160\x6f\151\x6e\164"] = $wWJYb; goto JStzc; QhDwG: } public function getLocale() : ?string { return $this->locale; } public function updateComment($ztUQt) { goto mI9EC; rv7Mz: goto tE_0I; goto hEQMH; ZKDpT: LDRi_: goto K0NOj; hEQMH: zcg7C: goto IV8DC; DtVda: if (!$this->getSettingByKey(Setting::ADMIN_CONVERT_LETTERS)) { goto VtXOa; } goto BMNri; H_X86: PuROm: goto eQ7mo; BMNri: $u40QT = $this->translateLetters($u40QT); goto A7gws; tq8Sd: goto kv015; goto ZKDpT; Bve5x: $ztUQt = $u40QT; goto rv7Mz; UhEb2: $u40QT = $this->translateNumbers($u40QT); goto HNJog; Q02ma: if (!$this->getSettingByKey(Setting::ADMIN_CONVERT_NUMBERS)) { goto AEggh; } goto UhEb2; a1MIw: return $ztUQt; goto RVlp_; HNJog: AEggh: goto DtVda; IV8DC: $ztUQt->comment_content = $u40QT; goto B1sEM; A7gws: VtXOa: goto H_X86; uDL5Z: if (!($u40QT && is_string($u40QT))) { goto PuROm; } goto Q02ma; B1sEM: tE_0I: goto a1MIw; ypVws: kv015: goto uDL5Z; mI9EC: if ($ztUQt instanceof WP_Comment) { goto LDRi_; } goto WXI_N; eQ7mo: if ($ztUQt instanceof WP_Comment) { goto zcg7C; } goto Bve5x; WXI_N: $u40QT = $ztUQt; goto tq8Sd; K0NOj: $u40QT = $ztUQt->comment_content; goto ypVws; RVlp_: } public function dateI18n($ugmrC, $Isuxk, $ZfALF) { goto nQgBU; W8oy0: $MHq2j = debug_backtrace(); goto U5M0u; Hq9Ua: LCCA5: goto FVlkx; nQgBU: if (!function_exists("\x64\x65\x62\x75\147\137\x62\x61\143\x6b\x74\162\x61\x63\x65")) { goto LCCA5; } goto W8oy0; jCIAg: return $ugmrC; goto wx_ZL; wx_ZL: iGGaF: goto Hq9Ua; U5M0u: if (!$this->applyFilters($this->generateHook("\144\x69\163\141\x62\154\145"), $MHq2j)) { goto iGGaF; } goto jCIAg; FVlkx: return $this->persianDate($ZfALF, $Isuxk); goto oEchu; oEchu: } public function translateLetters($u40QT) { return $this->getTranslator()->arabic2persian($u40QT); } public function translateNumbers($u40QT) { return $this->getTranslator()->english2persian($u40QT); } public function setLocale($BHpVq) : ?string { goto v5i4R; aNvTE: return $BHpVq; goto GjpDq; G6z5L: $BHpVq = "\x66\x61\x5f\111\122"; goto aNvTE; v5i4R: global $BHpVq; goto G6z5L; GjpDq: } public function wpDate($lX3OZ, $Isuxk, $brbqN) { goto dQyf8; Eyq0L: return $lX3OZ; goto zwozr; lWgdg: $lX3OZ = $this->persianDate(date("\131\55\x6d\x2d\144\40\110\72\x69\x3a\x73", $brbqN), $Isuxk); goto gB3Nt; gB3Nt: VnFqN: goto Eyq0L; dQyf8: if (!$lX3OZ) { goto VnFqN; } goto lWgdg; zwozr: } public function persianDate($yHOe7, $Isuxk = null, $BHpVq = "\x66\x61") { goto jEBSp; wa0uh: Sq0E8: goto sg66A; CyFjG: goto p31dk; goto Y09MN; WebcR: p31dk: goto obCJb; BXQNU: if ($Isuxk) { goto I4qMy; } goto u3D9V; yOaJu: $BHpVq = "\145\x6e"; goto WebcR; gWqzP: if (empty($BHpVq) && is_admin() && $this->getSettingByKey(Setting::ADMIN_CONVERT_DATES)) { goto rBD0f; } goto z6Jx3; K90EI: $BHpVq = "\x66\x61"; goto TaL15; CAKS7: I4qMy: goto MT57B; o2t2D: goto KCysl; goto CSLXU; X1aYo: goto p31dk; goto Uve8K; CSLXU: IzQmq: goto SwdBN; Uve8K: S3Y2n: goto hqkB4; nx83M: $BHpVq = "\x65\156"; goto X1aYo; TtDZf: if (empty($BHpVq) && !is_admin()) { goto miIGT; } goto fB3ct; T0Z6O: $brbqN = strtotime($yHOe7); goto o2t2D; hqkB4: $BHpVq = "\x66\141"; goto CyFjG; Y09MN: miIGT: goto yOaJu; g7Avs: KCysl: goto BXQNU; MT57B: if (!$brbqN) { goto Sq0E8; } goto gWqzP; sg66A: return $yHOe7; goto in3E0; fB3ct: goto p31dk; goto SP0G3; SwdBN: $brbqN = $yHOe7; goto TOJNI; u3D9V: $Isuxk = ManipulateSetting::getTimeFormat(); goto CAKS7; sj5mF: if (is_numeric($yHOe7)) { goto QVSeI; } goto T0Z6O; H0BF0: $brbqN = intval($yHOe7); goto g7Avs; TOJNI: goto KCysl; goto YTlNQ; z6Jx3: if (empty($BHpVq) && is_admin()) { goto d1Bdy; } goto DSwXv; YTlNQ: QVSeI: goto H0BF0; jEBSp: if (is_int($yHOe7)) { goto IzQmq; } goto sj5mF; obCJb: $yHOe7 = $this->getConverter()->date($Isuxk, $brbqN, $BHpVq); goto wa0uh; SP0G3: rBD0f: goto K90EI; DSwXv: if (empty($BHpVq) && !is_admin() && $this->getSettingByKey(Setting::FRONT_CONVERT_DATES)) { goto S3Y2n; } goto TtDZf; TaL15: goto p31dk; goto AzcXd; AzcXd: d1Bdy: goto nx83M; in3E0: } public function makeTime($MGB0e = '', $Jy2zq = '', $BJnVI = '', $UI3Jt = '', $rpUxs = '', $X4rC_ = '') { return $this->getConverter()->makeTime($MGB0e, $Jy2zq, $BJnVI, $UI3Jt, $rpUxs, $X4rC_); } }
