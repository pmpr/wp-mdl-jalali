<?php
 namespace Pmpr\Package\Jalali\Area; use Pmpr\Common\Foundation\Decorator\DecoratorOption; use Pmpr\Common\Foundation\Decorator\Post\DecoratorAttachment; use Pmpr\Common\Foundation\Decorator\Post\DecoratorPage; use Pmpr\Common\Foundation\Decorator\Post\DecoratorPost; use Pmpr\Common\Foundation\Manipulate\ManipulateSetting; use Pmpr\Common\Foundation\Manipulate\ManipulateUser; use Pmpr\Common\Foundation\Manipulate\Post\ManipulatePost; use Pmpr\Package\Jalali\Setting; class Front extends Common { public function addFilters() { parent::addFilters(); $this->addFilter("\160\x6f\x73\164\x73\x5f\167\150\145\162\145", [$this, "\x70\x6f\x73\x74\x73\127\x68\x65\x72\145"], 10, 2); if (!$this->getSettingByKey(Setting::FRONT_CONVERT_DATES)) { goto Nv1CC; } $this->addFilter("\167\x70\137\x64\x61\x74\145", [$this, "\x77\160\104\141\164\145"], 9999, 3)->addFilter("\144\x61\164\145\137\x69\61\x38\x6e", [$this, "\144\x61\164\x65\x49\61\70\x6e"], 10, 3)->addFilter("\x74\x68\x65\x5f\144\x61\x74\145", [$this, "\x70\x65\162\163\x69\141\x6e\104\x61\x74\145"], 99, 3)->addFilter("\x74\151\x6d\x65\137\141\147\157", [$this, "\164\162\141\156\x73\x6c\x61\x74\145\116\165\155\142\x65\x72\x73"], 100)->addFilter("\x64\141\x74\x65\x5f\x74\x69\155\x65\137\141\x67\157", [$this, "\160\145\x72\163\151\x61\x6e\104\141\x74\145"], 99, 3)->addFilter("\x67\x65\x74\137\x63\x6f\x6d\x6d\145\156\164\x5f\144\x61\x74\145", [$this, "\160\145\x72\163\x69\x61\x6e\x44\x61\x74\x65"], 99, 3)->addFilter("\x67\x65\164\137\x63\157\x6d\x6d\145\x6e\x74\x5f\x74\x69\155\x65", [$this, "\x70\x65\x72\x73\x69\x61\156\104\x61\x74\x65"], 99, 3); Nv1CC: if (!$this->getSettingByKey(Setting::FRONT_CONVERT_LETTERS)) { goto SBx2v; } $this->addFilter("\167\160\137\164\151\x74\x6c\145", [$this, "\164\162\x61\156\x73\x6c\x61\x74\145\x4c\x65\164\x74\145\x72\x73"], 999)->addFilter("\x74\150\x65\x5f\164\x69\x74\x6c\x65", [$this, "\x74\162\x61\x6e\x73\154\141\164\x65\114\x65\x74\x74\x65\x72\163"], 999)->addFilter("\x74\x68\145\137\145\170\143\145\162\160\x74", [$this, "\x74\162\141\x6e\163\x6c\x61\164\145\x4c\x65\164\164\145\162\x73"], 999)->addFilter("\x74\150\145\137\143\157\156\164\x65\156\x74", [$this, "\164\162\141\156\163\x6c\141\164\x65\x4c\145\164\164\x65\x72\x73"], 999)->addFilter("\164\150\x65\x5f\143\141\164\145\x67\157\162\171", [$this, "\164\162\x61\156\x73\x6c\141\164\145\114\145\x74\164\145\x72\163"], 999)->addFilter("\x63\x6f\x6d\x6d\x65\x6e\x74\137\x74\145\170\164", [$this, "\x74\x72\x61\x6e\163\x6c\x61\164\145\114\x65\164\164\x65\x72\x73"], 999)->addFilter("\x63\x6f\x6d\155\145\156\x74\163\x5f\156\x75\155\x62\145\162", [$this, "\164\x72\141\x6e\163\x6c\141\164\x65\x4c\145\x74\x74\145\x72\163"], 999)->addFilter("\167\160\x5f\154\x69\x73\164\137\x63\141\x74\145\x67\157\162\x69\x65\163", [$this, "\x74\x72\141\156\163\x6c\141\164\145\114\145\164\x74\145\x72\163"], 999); SBx2v: if (!$this->getSettingByKey(Setting::FRONT_CONVERT_NUMBERS)) { goto qerFg; } $this->addFilter("\x77\160\x5f\164\151\x74\x6c\145", [$this, "\x74\x72\141\156\x73\154\141\x74\x65\116\x75\x6d\x62\145\x72\x73"])->addFilter("\164\x68\145\137\164\151\x74\154\x65", [$this, "\164\x72\x61\156\163\x6c\141\x74\145\116\165\x6d\142\x65\162\x73"])->addFilter("\164\150\145\137\x65\170\x63\x65\x72\x70\x74", [$this, "\164\162\141\x6e\x73\154\x61\x74\x65\116\x75\x6d\x62\145\162\163"])->addFilter("\143\157\x6d\155\x65\x6e\x74\137\x74\145\x78\x74", [$this, "\x74\x72\x61\x6e\x73\x6c\x61\x74\x65\x4e\165\155\x62\x65\162\163"])->addFilter("\156\x75\155\142\x65\x72\137\x66\157\162\x6d\x61\164\137\151\61\x38\x6e", [$this, "\164\162\x61\x6e\163\x6c\141\164\145\116\x75\x6d\142\145\x72\163"])->addFilter("\x77\x70\137\154\x69\163\164\x5f\x63\x61\164\x65\x67\157\x72\151\x65\x73", [$this, "\x74\162\x61\x6e\163\x6c\x61\x74\145\x4e\165\155\x62\x65\162\x73"])->addFilter("\164\x68\145\137\x63\x6f\156\164\145\x6e\164", [$this, "\164\162\x61\x6e\163\x6c\x61\164\145\x4e\165\155\x62\145\x72\163"], 999)->addFilter("\x67\145\164\x5f\x63\x6f\x6d\155\x65\156\164\x73\x5f\156\165\x6d\x62\x65\x72", [$this, "\164\162\141\x6e\x73\x6c\x61\164\145\x4e\x75\155\x62\x65\162\x73"], 99); qerFg: if (!$this->getSettingByKey(Setting::FRONT_CONVERT_PERMALINK_DATES)) { goto UQwr5; } $this->addFilter("\x70\157\x73\x74\x5f\x6c\x69\x6e\153", [$this, "\x70\157\163\164\x4c\151\x6e\x6b"], 10, 3); UQwr5: } public function postLink($Kg1ne, $post) { $ou71s = ManipulatePost::getId($post, true); $d13Cd = ManipulatePost::getSlug($ou71s); $mwY1F = ManipulatePost::getDate("\131\55\155\55\144\40\x48\72\151\x3a\163", $ou71s, false); $fTLRp = ManipulatePost::getType($ou71s); $M_fT0 = DecoratorOption::get("\x68\x6f\x6d\145"); $k3ixj = strpos($Kg1ne, "\x25\160\x6f\163\164\156\141\155\x65\45") !== false || strpos($Kg1ne, "\45\160\x61\147\x65\x6e\141\x6d\145\x25") !== false; $ZVkgv = ["\x25\x79\x65\x61\162\45", "\45\155\x6f\x6e\164\150\x6e\165\155\45", "\45\x64\x61\171\x25", "\45\150\157\165\162\x25", "\x25\x6d\x69\156\x75\164\145\x25", "\x25\x73\145\143\x6f\x6e\144\x25", $k3ixj ? '' : "\x25\160\x6f\163\164\x6e\x61\155\145\45", "\45\160\157\163\164\x5f\x69\144\45", "\x25\143\141\x74\x65\x67\x6f\162\171\45", "\45\x61\x75\164\150\x6f\x72\x25", $k3ixj ? '' : "\x25\x70\x61\147\145\156\x61\155\145\45"]; if (!$ou71s) { goto AJE44; } if ($fTLRp == "\x70\x61\147\145") { goto JHL4I; } if ($post->post_type == "\141\x74\x74\x61\x63\x68\x6d\145\x6e\x74") { goto phmJw; } $OypDm = ManipulateSetting::getPermalinkStructure(); if ('' == $OypDm || in_array($post->post_status, ["\x64\x72\141\x66\164", "\160\145\x6e\144\x69\x6e\147", "\141\x75\164\157\55\144\162\x61\x66\164", "\146\x75\164\165\x72\x65"])) { goto LMRIp; } $YPYyY = strtotime($mwY1F); $Fy93v = ''; if (!(strpos($OypDm, "\x25\x63\x61\164\x65\x67\x6f\162\171\x25") !== false)) { goto rI44d; } $lKvAR = get_the_category($ou71s); if (!$lKvAR) { goto y6_IZ; } usort($lKvAR, "\x77\x70\x5f\x6c\151\163\164\x5f\163\x6f\162\x74"); y6_IZ: $Fy93v = $lKvAR[0]->slug; if (!($SBK2L = $lKvAR[0]->category_parent)) { goto EVZcw; } $Fy93v = get_category_parents($SBK2L, false, "\57", true) . $Fy93v; EVZcw: rI44d: if ($Fy93v) { goto Ukybb; } $bxnAQ = get_category(DecoratorOption::get("\144\145\x66\141\165\x6c\164\x5f\x63\141\164\x65\147\157\x72\x79")); $Fy93v = is_wp_error($bxnAQ) ? '' : $bxnAQ->slug; Ukybb: $UqQIE = null; if (!(strpos($OypDm, "\45\141\165\164\150\157\x72\x25") !== false)) { goto OHeeS; } $UqQIE = ManipulateUser::getField(ManipulatePost::getAuthor($ou71s), "\x75\x73\145\x72\x5f\156\151\143\145\x6e\141\155\x65"); OHeeS: $mwY1F = explode("\40", $this->persianDate($YPYyY, "\x59\x20\x6d\40\x64\40\x48\x20\151\40\x73", "\145\156")); $j4a34 = [$mwY1F[0], $mwY1F[1], $mwY1F[2], $mwY1F[3], $mwY1F[4], $mwY1F[5], $d13Cd, $ou71s, $Fy93v, $UqQIE, $d13Cd]; $OypDm = $M_fT0 . str_replace($ZVkgv, $j4a34, $OypDm); $Kg1ne = user_trailingslashit($OypDm, "\163\151\156\x67\x6c\x65"); goto uCevd; LMRIp: $Kg1ne = "{$M_fT0}\x2f\77\x70\75{$ou71s}"; uCevd: goto zzeBh; JHL4I: $Kg1ne = DecoratorPage::getLink($ou71s, $k3ixj); goto zzeBh; phmJw: $Kg1ne = DecoratorAttachment::getLink($post, $k3ixj); zzeBh: AJE44: return $Kg1ne; } }
