<?php
 namespace Pmpr\Package\Jalali; use Pmpr\Common\Foundation\Decorator\DecoratorI18N; use Pmpr\Common\Foundation\Manipulate\Type\ManipulateArray; class Translator extends Container { const SEPARATOR = "\x2e"; const PERSIAN_NUMBERS = ["\xd9\252", "\333\xb0", "\xdb\xb1", "\333\262", "\xdb\xb3", "\333\264", "\333\xb5", "\xdb\266", "\333\267", "\333\270", "\333\xb9", self::SEPARATOR => self::SEPARATOR]; const ENGLISH_NUMBERS = ["\x25", "\x30", "\x31", "\62", "\63", "\x34", "\x35", "\66", "\x37", "\70", "\x39", self::SEPARATOR => self::SEPARATOR]; public function addFilters() { $this->addFilter($this->generateHook("\164\162\141\156\163\137\x77\157\162\x64"), [$this, "\164\x72\141\156\x73\154\x61\x74\145"], 10, 2)->addFilter($this->generateHook("\164\x72\x61\x6e\x73\137\x6e\165\155\x62\x65\x72"), [$this, "\164\162\141\156\x73\x6c\141\x74\x65\116\165\155\x62\145\x72"], 10, 3); parent::addFilters(); } public function translate($FhyF5, $r8wFj) { goto fsIwP; u4A2H: EtWqt: goto t2ZAm; IOWsz: switch ($r8wFj) { case "\x66\x61": case "\146\x61\x5f\111\122": goto nKy8m; m53lY: goto mtv5p; goto abrPY; nKy8m: $FhyF5 = $this->arabic2persian($FhyF5); goto dO6KD; dO6KD: $FhyF5 = $this->english2persian($FhyF5); goto m53lY; abrPY: case "\145\x6e": case "\145\156\x5f\125\x53": $FhyF5 = $this->numbers2english($FhyF5); goto mtv5p; } goto u4A2H; t2ZAm: mtv5p: goto wwHdZ; fVHnA: $r8wFj = DecoratorI18N::getLocale(); goto lB2dA; wwHdZ: return $FhyF5; goto cIaxD; lB2dA: ZPYig: goto IOWsz; fsIwP: if ($r8wFj) { goto ZPYig; } goto fVHnA; cIaxD: } public function arabic2persian($FhyF5) { return str_replace(["\xd9\212", "\331\203", "\330\xa9", "\331\244", "\331\245", "\xd9\xa6"], ["\xdb\x8c", "\332\xa9", "\xd9\x87", "\333\264", "\333\xb5", "\xdb\xb6"], $FhyF5); } public function english2persian($IjoP9) { return preg_replace_callback("\x2f\50\77\x3a\46\x23\134\x64\173\x32\54\x34\x7d\x3b\x29\x7c\x28\x5c\x64\53\133\x5c\x2e\x5c\x64\x5d\x2a\x29\174\x28\x3f\x3a\x5b\141\55\x7a\x5d\x28\x3f\72\133\134\170\x30\60\55\134\x78\63\102\x5c\x78\63\104\55\x5c\170\x37\x46\135\x7c\x3c\134\x73\x2a\133\x5e\x3e\x5d\x2b\x3e\x29\x2a\x29\x7c\x3c\134\163\x2a\133\x5e\76\x5d\53\76\x2f\x69", [$this, "\156\x75\x6d\x62\x65\x72\x73\x32\x70\x65\x72\x73\x69\x61\x6e"], $IjoP9); } private function numbers2persian($VLv1b) { goto SMAS0; p_Xq7: if ($mivt8 !== false) { goto B10Pk; } goto kRdlf; Y22lq: goto IBxvP; goto qfZC0; qfZC0: B10Pk: goto KjSOc; oyRmv: IBxvP: goto q8vl2; kRdlf: $mivt8 = ManipulateArray::get($VLv1b, 0); goto Y22lq; KjSOc: $mivt8 = str_replace(self::ENGLISH_NUMBERS, self::PERSIAN_NUMBERS, $mivt8); goto oyRmv; SMAS0: $mivt8 = ManipulateArray::get($VLv1b, 1, false); goto p_Xq7; q8vl2: return $mivt8; goto GeJhS; GeJhS: } public function numbers2english($mCJIo) { return str_replace(self::PERSIAN_NUMBERS, self::ENGLISH_NUMBERS, $mCJIo); } public function translateNumber($IjoP9, $r8wFj = "\146\141", $t3z8Z = "\331\xab") { goto PA5fv; RQL62: $bDmyx = in_array($r8wFj, ["\146\x61", "\x66\x61\137\x49\x52"]); goto grwa6; PA5fv: $Ia49K = self::ENGLISH_NUMBERS; goto I3iL3; grwa6: return $bDmyx ? str_replace($Ia49K, $JHYAL, $IjoP9) : str_replace($JHYAL, $Ia49K, $IjoP9); goto RLF4m; I3iL3: $JHYAL = self::PERSIAN_NUMBERS; goto fubhC; fubhC: $JHYAL[self::SEPARATOR] = $t3z8Z; goto RQL62; RLF4m: } }
