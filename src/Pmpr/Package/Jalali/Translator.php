<?php
 namespace Pmpr\Package\Jalali; use Pmpr\Common\Foundation\Decorator\DecoratorI18N; use Pmpr\Common\Foundation\Manipulate\Type\ManipulateArray; class Translator extends Container { const SEPARATOR = "\56"; const PERSIAN_NUMBERS = ["\331\xaa", "\xdb\260", "\xdb\xb1", "\333\262", "\333\263", "\xdb\xb4", "\333\xb5", "\333\xb6", "\xdb\267", "\333\270", "\xdb\271", self::SEPARATOR => self::SEPARATOR]; const ENGLISH_NUMBERS = ["\45", "\x30", "\x31", "\62", "\63", "\64", "\x35", "\x36", "\x37", "\x38", "\x39", self::SEPARATOR => self::SEPARATOR]; public function addFilters() { $this->addFilter($this->generateHook("\x74\x72\x61\x6e\163\137\167\157\x72\144"), [$this, "\164\x72\141\x6e\x73\154\141\x74\145"], 10, 2)->addFilter($this->generateHook("\x74\x72\x61\156\163\137\x6e\165\155\142\x65\162"), [$this, "\x74\162\x61\x6e\163\154\141\164\x65\116\165\x6d\142\x65\162"], 10, 3); parent::addFilters(); } public function translate($cQfo7, $BHpVq) { goto lD63q; a0H4k: nKFEP: goto YVsOs; lD63q: if ($BHpVq) { goto XhQCW; } goto aGT1I; aGT1I: $BHpVq = DecoratorI18N::getLocale(); goto otVWR; Sw9zV: return $cQfo7; goto lfq98; YVsOs: VkdAO: goto Sw9zV; otVWR: XhQCW: goto RUdfe; RUdfe: switch ($BHpVq) { case "\146\141": case "\x66\141\137\111\122": goto GsfpG; h7wYe: goto VkdAO; goto eqiaB; FlWoz: $cQfo7 = $this->english2persian($cQfo7); goto h7wYe; GsfpG: $cQfo7 = $this->arabic2persian($cQfo7); goto FlWoz; eqiaB: case "\x65\156": case "\145\x6e\137\x55\123": $cQfo7 = $this->numbers2english($cQfo7); goto VkdAO; } goto a0H4k; lfq98: } public function arabic2persian($cQfo7) { return str_replace(["\331\x8a", "\xd9\203", "\xd8\xa9", "\xd9\244", "\331\xa5", "\xd9\xa6"], ["\xdb\214", "\332\251", "\xd9\x87", "\xdb\xb4", "\333\xb5", "\xdb\266"], $cQfo7); } public function english2persian($IRfe7) { return preg_replace_callback("\57\50\x3f\72\x26\43\134\x64\x7b\62\54\x34\175\x3b\x29\174\50\x5c\144\53\x5b\134\56\134\x64\x5d\52\x29\x7c\x28\77\72\x5b\x61\55\172\135\x28\x3f\72\133\x5c\170\x30\x30\x2d\x5c\170\x33\102\x5c\x78\x33\104\55\x5c\170\x37\106\135\x7c\x3c\134\x73\52\x5b\x5e\76\135\x2b\76\51\x2a\x29\x7c\74\x5c\x73\52\133\x5e\x3e\x5d\x2b\76\x2f\151", [$this, "\x6e\x75\x6d\142\145\x72\163\x32\x70\x65\x72\x73\151\141\x6e"], $IRfe7); } private function numbers2persian($EBMfk) { goto fjqZy; rX2DJ: goto n3yzj; goto HHYIZ; fjqZy: $ehY9T = ManipulateArray::get($EBMfk, 1, false); goto A5UUl; oahlu: return $ehY9T; goto YqXsV; Yh9l9: n3yzj: goto oahlu; HHYIZ: UWUXR: goto Ixp64; neGPG: $ehY9T = ManipulateArray::get($EBMfk, 0); goto rX2DJ; Ixp64: $ehY9T = str_replace(self::ENGLISH_NUMBERS, self::PERSIAN_NUMBERS, $ehY9T); goto Yh9l9; A5UUl: if ($ehY9T !== false) { goto UWUXR; } goto neGPG; YqXsV: } public function numbers2english($NXvOZ) { return str_replace(self::PERSIAN_NUMBERS, self::ENGLISH_NUMBERS, $NXvOZ); } public function translateNumber($IRfe7, $BHpVq = "\146\141", $iZfj4 = "\xd9\xab") { goto A1pu2; xIgPD: $orQPw[self::SEPARATOR] = $iZfj4; goto ZERzA; KCfGi: $orQPw = self::PERSIAN_NUMBERS; goto xIgPD; A1pu2: $bVSNB = self::ENGLISH_NUMBERS; goto KCfGi; gXUIU: return $OgQ9L ? str_replace($bVSNB, $orQPw, $IRfe7) : str_replace($orQPw, $bVSNB, $IRfe7); goto lrc4X; ZERzA: $OgQ9L = in_array($BHpVq, ["\x66\x61", "\146\141\137\111\x52"]); goto gXUIU; lrc4X: } }
